components:
  schemas: {}
  securitySchemes:
    jwt:
      bearerFormat: JWT
      scheme: bearer
      type: http
info:
  contact: {}
  description: Authentication, authorization, and user management
  title: Identity Worker API
  version: 1.0.0
openapi: 3.0.0
paths:
  /.well-known/jwks.json:
    get:
      operationId: JwksController_getJwks
      parameters: []
      responses:
        '200':
          description: ''
      tags:
        - Jwks
  /health:
    get:
      operationId: HealthController_check
      parameters: []
      responses:
        '200':
          description: ''
      tags:
        - Health
  /internal/auth/login:
    post:
      operationId: AuthController_login
      parameters: []
      responses:
        '200':
          description: ''
      tags:
        - Auth
  /internal/auth/profile:
    get:
      operationId: AuthController_profile
      parameters:
        - in: query
          name: userId
          required: true
          schema:
            type: string
        - in: header
          name: x-user-id
          required: true
          schema:
            type: string
      responses:
        '200':
          description: ''
      tags:
        - Auth
  /internal/auth/register:
    post:
      operationId: AuthController_register
      parameters: []
      responses:
        '201':
          description: ''
      tags:
        - Auth
  /internal/auth/token/refresh:
    post:
      operationId: AuthController_refresh
      parameters: []
      responses:
        '200':
          description: ''
      tags:
        - Auth
  /internal/auth/token/revoke:
    post:
      operationId: AuthController_revoke
      parameters: []
      responses:
        '200':
          description: ''
      tags:
        - Auth
  /internal/oauth/{provider}/auth:
    get:
      operationId: OauthController_auth
      parameters:
        - in: path
          name: provider
          required: true
          schema:
            type: string
        - in: query
          name: userId
          required: true
          schema:
            type: string
      responses:
        '200':
          description: ''
      tags:
        - Oauth
  /internal/oauth/{provider}/callback:
    get:
      operationId: OauthController_callback
      parameters:
        - in: path
          name: provider
          required: true
          schema:
            type: string
        - in: query
          name: code
          required: true
          schema:
            type: string
        - in: query
          name: state
          required: true
          schema:
            type: string
        - in: query
          name: userId
          required: true
          schema:
            type: string
      responses:
        '200':
          description: ''
      tags:
        - Oauth
  /internal/oauth/{provider}/unlink:
    delete:
      operationId: OauthController_unlink
      parameters:
        - in: path
          name: provider
          required: true
          schema:
            type: string
        - in: query
          name: userId
          required: true
          schema:
            type: string
      responses:
        '200':
          description: ''
      tags:
        - Oauth
  /internal/users:
    get:
      operationId: UsersController_getByEmail
      parameters:
        - in: query
          name: email
          required: true
          schema:
            type: string
      responses:
        '200':
          description: ''
      tags:
        - Users
    post:
      operationId: UsersController_create
      parameters: []
      responses:
        '201':
          description: ''
      tags:
        - Users
  /internal/users/{id}:
    delete:
      operationId: UsersController_delete
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        '204':
          description: ''
      tags:
        - Users
    get:
      operationId: UsersController_getById
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        '200':
          description: ''
      tags:
        - Users
    patch:
      operationId: UsersController_update
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        '200':
          description: ''
      tags:
        - Users
servers: []
tags:
  - description: Authentication endpoints
    name: Auth
  - description: OAuth2/OIDC endpoints
    name: OAuth
  - description: User management
    name: Users
  - description: JSON Web Key Set endpoints
    name: JWKS
  - description: Health checks
    name: Health
